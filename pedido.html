<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gelato Caja ‚Äî Pedido</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
        rel="stylesheet"
        integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB"
        crossorigin="anonymous">
  <link rel="stylesheet" href="estilo.css">
</head>
<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg bg-white border-bottom sticky-top">
    <div class="container">
      <a class="navbar-brand fw-semibold" href="index.html">üç® Gelato Caja</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navPedido">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div id="navPedido" class="collapse navbar-collapse">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link active" href="#">Pedido</a></li>
          <li class="nav-item"><a class="btn btn-sm btn-outline-secondary ms-lg-3" href="login.html">Cerrar turno</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Body -->
  <main class="container my-4">
    <div class="row g-4">
      <!-- Constructor -->
      <div class="col-lg-8">
        <div class="card card-soft mb-4">
          <div class="card-body">
            <div class="d-flex align-items-center justify-content-between flex-wrap gap-2">
              <h5 class="mb-0">Armar pedido</h5>
              <span class="small-muted">Paso 1: producto ‚Üí Paso 2: tama√±o ‚Üí Paso 3: toppings (si aplica)</span>
            </div>
            <hr>

            <!-- 1) Productos (con fotos) -->
            <h6 class="mb-3">1) Elige un producto</h6>
            <div id="gridProductos" class="row g-3"></div>

            <!-- 2) Tama√±os -->
            <div class="mt-4">
              <h6 class="mb-3">2) Tama√±o</h6>
              <div id="gridTamanos" class="d-flex flex-wrap gap-2"></div>
            </div>

            <!-- 3) Toppings -->
            <div id="toppingsBlock" class="mt-4 d-none">
              <div class="d-flex align-items-center justify-content-between">
                <h6 class="mb-2">3) Toppings (opcional)</h6>
                <span class="small-muted">Solo para helados</span>
              </div>
              <div id="gridToppings" class="row g-3"></div>
            </div>

            <!-- Estado + acciones -->
            <div class="mt-3 d-flex flex-column flex-md-row gap-2 align-items-md-center">
              <button id="btnAgregarProducto" class="btn btn-brand text-white" disabled>Agregar al pedido</button>
              <button id="btnLimpiarConstruccion" class="btn btn-outline-secondary">Limpiar selecci√≥n</button>
              <span class="small-muted mt-2 mt-md-0" id="estadoSeleccion">Sin selecci√≥n actual.</span>
            </div>
          </div>
        </div>

        <!-- Acciones r√°pidas -->
        <div class="card card-soft">
          <div class="card-body">
            <h6 class="mb-3">Acciones r√°pidas</h6>
            <div class="d-flex flex-wrap gap-2">
              <button class="btn btn-outline-secondary btn-sm" id="btnHold">Poner en espera</button>
              <button class="btn btn-outline-danger btn-sm" id="btnVaciar">Vaciar pedido</button>
              <!-- Nota removida -->
            </div>
          </div>
        </div>
      </div>

      <!-- Resumen -->
      <div class="col-lg-4">
        <div class="card card-soft sticky-summary">
          <div class="card-body">
            <div class="d-flex justify-content-between align-items-center">
              <h5 class="mb-0">Resumen</h5>
              <span class="badge text-bg-light">Ticket #<span id="ticketNum">1001</span></span>
            </div>
            <hr>
            <div class="table-responsive">
              <table class="table align-middle" id="tablaPedido">
                <thead>
                  <tr>
                    <th>Item</th>
                    <th class="text-center">Cant</th>
                    <th class="text-end">Subtotal</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody></tbody>
              </table>
            </div>

            <div class="d-flex justify-content-between">
              <span class="small text-muted">Subtotal</span>
              <span id="subTotal">$0</span>
            </div>
            <div class="d-flex justify-content-between">
              <span class="small text-muted">Descuento</span>
              <span id="discount">$0</span>
            </div>
            <hr class="my-2">
            <div class="d-flex justify-content-between fs-5 fw-semibold">
              <span>Total</span>
              <span id="total">$0</span>
            </div>

            <!-- Recuadro de pago (siempre efectivo) -->
            <div class="mt-3 p-3 border rounded-3">
              <div class="mb-2">
                <label class="form-label mb-1">Cliente (opcional)</label>
                <input type="text" id="inpCliente" class="form-control form-control-sm" placeholder="Nombre del cliente">
              </div>
              <div class="row g-2 align-items-end">
                <div class="col-7">
                  <label class="form-label mb-1">Pag√≥ en efectivo</label>
                  <input type="number" id="inpPago" class="form-control form-control-sm" min="0" step="100" value="0" />
                </div>
                <div class="col-5">
                  <label class="form-label mb-1">Cambio</label>
                  <div class="form-control form-control-sm bg-light" id="lblCambio" style="height: 36px; display:flex; align-items:center;">$0</div>
                </div>
              </div>
            </div>

            <div class="mt-3">
              <div class="input-group input-group-sm mb-2">
                <span class="input-group-text">Descuento $</span>
                <input type="number" class="form-control" id="inpDesc" value="0" min="0" step="100">
                <button class="btn btn-outline-secondary" id="btnAplicarDesc">Aplicar</button>
              </div>
              <div class="d-grid gap-2">
                <button class="btn btn-success" id="btnCobrar" disabled>Cobrar</button>
              </div>
            </div>
            <p class="small-muted mt-3 mb-0">* Pago siempre en efectivo. Total = Subtotal ‚àí Descuento.</p>
          </div>
        </div>
      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="py-4 border-top bg-white">
    <div class="container d-flex flex-column flex-md-row justify-content-between align-items-center gap-2">
      <span class="small">¬© <span id="year"></span> Gelato Caja</span>
      <div class="d-flex gap-3">
        <a class="small" href="mailto:soporte@gelato.com">soporte@gelato.com</a>
        <a class="small" href="#">T√©rminos</a>
      </div>
    </div>
  </footer>

  <!-- Bootstrap Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-rsLxyVf2wz9i6UQ3wXv9H8vT1QqgC7w8d1z0f3w2R8kQb5v7aQw5q9wq+ZbY3f5D"
          crossorigin="anonymous"></script>

  <!-- App JS -->
  <script src="app.js"></script>
</body>
</html>